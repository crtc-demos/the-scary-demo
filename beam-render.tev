# say texmap1 is a texture containing separate channels of accumulated "beam"
# brightness: we want the sum of the R, G & B channels. Texcoord1 just maps
# screen coordinates directly to texcoords.

stage 0:
  tev.rgb = clamp (texmap2[texcoord0].rrr + texmap2[texcoord0].ggg);

stage 1:
  tev.rgb = clamp ((tev.rgb + mix (0, texmap2[texcoord0].bbb, 1) + 0) * 4);

stage 2:
  tev.rgb = clamp ((tev.rgb + mix (0, 0, 1) + 0) * 2);
